@model CampaignViewModel
@{
    Layout = "_Layout"; // Use the appropriate layout for your project.
    ViewBag.Title = "Campaign Detail";
}

<div class="container mt-4">
    <div class="card mb-3 custom-bg">
        
        <div class="card-body">
            <div class="custom-text">
                Posted by @Model.TeacherId on @Model.CreatedDate.ToString("MMMM dd, yyyy")
            </div>
            <div class="d-flex justify-content-start align-items-center mb-3">
                <h3 class="card-title me-3 custom-title">@Model.Title</h3>
                <span class="badge bg-success custom-title">@Model.CampaignType</span>
            </div>
            <p class="card-text custom-title">@Model.Description</p>
            <p class="card-text custom-title">@Model.Content</p>
            <div class="mb-3">
                <img src="@Model.ImageUrl" class="img-fluid" alt="Campaign Image">
            </div>
            <!-- Like Button -->
            @using (Html.BeginForm("Like", "Interactions", FormMethod.Post, new { @class = "like-form d-inline" }))
            {
                @Html.AntiForgeryToken()
                var isLiked = ViewBag.UserLikeStatus.ContainsKey(Model.CampaignId) && ViewBag.UserLikeStatus[Model.CampaignId];

                <input type="hidden" name="campaignId" value="@Model.CampaignId" />
                <button type="submit" class="btn btn-success btn-like @(isLiked ? "liked" : "") mr-2">
                    @(isLiked ? "Unlike" : "Like")
                </button>
            }
            <!-- Comments Section -->
            <div class="mt-4">
                <h6 class="custom-title">Comments</h6>
                <div class="row">
                    <div class="col-11 mb-3">
                        <textarea class="form-control" id="commentText-@Model.CampaignId" placeholder="Write a comment..."></textarea>
                    </div>
                    <div class="col-1">
                        <button class="btn btn-primary" onclick="sendComment(@Model.CampaignId)">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
